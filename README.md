# dsnd_final_project

## 项目概述
通过星巴克用户推送实验数据，实现用户细分，找到最能够激发顾客消费的推送。目的在于抛弃全量推送的方案，采取个性化推荐的精细化运营提高用户复购率和留存

## 问题描述
从用户日志中挖掘对于不同推送的反馈，构建3类特征，用户基础特征（性别，收入等），购物特征（消费频次，客单价），推送反应特征（推送打开率，补贴力度，核销率），对行为特征进行特征工程，再使用kmeans进行分层打标。最后使用基础特征交叉验证建立预测模型，用于后续用户分群使用

## 评价指标
* Accuracy=预测准确量/总样本量
* SSE=误差平方和

## 数据清洗
* Transcript表格提取value中的推送id，关联推送信息，计算奖励金和消费金额
* 按用户和推送类型做聚合，计算推送数，打开数，完成单量，消费总额和补贴相关信息
* 对不同推送类型做切分，以用户为关联键做横向关联
* 新增客单价，核销率，补贴率等字段
* 剔除无推送用户
* 填充空值

## 聚类
聚类特征选取：核销率对应促销敏感度，补贴率对应补贴敏感度，gmv对应消费能力，打开率对应触达反应。
根据手肘法，选取曲率最高的类别，对于这个数据集的最佳聚类数是3

## 特征筛选/交叉验证
* 使用selectKBest 进行特征筛选，此处使用卡方检验用于检验定性自变量对定性因变量的相关性。
* 训练数80%和测试数量20%分割做交叉验证

## 建立预测模型
选取模型进行网格调参，并输出结果，树模型的准确率比较高，随机森林选取变量子集的方式会有助于进一步下降方差。最后模型准确率为93.89%

## 依赖库名
* pandas
* numpy
* sklearn


## 参考资料链接
* https://www.kaggle.com/fabiendaniel/customer-segmentation

